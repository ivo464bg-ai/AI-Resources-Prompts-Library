import{s as h}from"./supabaseClient-Db4K6C7q.js";document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("authForm"),l=document.getElementById("formTitle"),t=document.getElementById("submitBtn"),d=document.getElementById("toggleModeBtn"),m=document.getElementById("toggleText"),e=document.getElementById("alertArea");let s=!0;function r(n,a){e.textContent=n,e.className=`alert alert-${a} mt-3`,e.classList.remove("d-none")}function u(){e.classList.add("d-none"),e.textContent=""}d.addEventListener("click",n=>{n.preventDefault(),s=!s,s?(l.textContent="Login",t.textContent="Login",m.textContent="Don't have an account?",d.textContent="Register here"):(l.textContent="Register",t.textContent="Register",m.textContent="Already have an account?",d.textContent="Login here"),u(),c.reset()}),c.addEventListener("submit",async n=>{n.preventDefault();const a=document.getElementById("email").value,g=document.getElementById("password").value,f=t.textContent;t.disabled=!0,t.textContent="Processing...",u();try{if(s){const{data:i,error:o}=await h.auth.signInWithPassword({email:a,password:g});if(o)throw o;r("Login successful! Redirecting...","success"),setTimeout(()=>{window.location.href="../dashboard/dashboard.html"},1e3)}else{const{data:i,error:o}=await h.auth.signUp({email:a,password:g});if(o)throw o;r("Registration successful! Redirecting...","success"),setTimeout(()=>{window.location.href="../dashboard/dashboard.html"},1e3)}}catch(i){r(i.message,"danger"),t.disabled=!1,t.textContent=f}})});
